// Generated by CoffeeScript 1.4.0
/*jshint plusplus:false, forin:false
*/

/*global Game, HeadsUp, Input, ParticleGenerator, Screens, Utils
*/

'use strict';

var android, canvas, context, game, headsUp, homeScreenApp, iOS, input, particleGenerator, screens, utils;

android = navigator.userAgent.match(/android/i) ? true : false;

iOS = navigator.userAgent.match(/(iPad|iPhone|iPod)/i) ? true : false;

homeScreenApp = iOS && navigator.standalone;

headsUp = new HeadsUp();

if (android || homeScreenApp || true) {
  canvas = document.createElement('canvas');
  context = canvas.getContext('2d');
  document.body.appendChild(canvas);
  canvas.width = document.width;
  canvas.height = document.height;
  game = new Game();
  input = new Input();
  particleGenerator = new ParticleGenerator();
  screens = new Screens();
  utils = new Utils();
  game.run();
} else if (iOS) {
  headsUp.installPrompt();
} else {
  headsUp.mobilePrompt();
}
